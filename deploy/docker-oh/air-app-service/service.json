{
    "description": "A template for Horizon Project-Air service",
    "documentation": "https://github.com/TIBCOSoftware/labs-air/integration/oh/README.md",
    "sharable": "multiple",
    "org": "myorg",
    "label": "air-app-service for amd64",
    "url": "air-app-service",
    "version": "0.1.0",
    "arch": "amd64",
    "requiredServices": [],
    "deployment": {
        "services": {
            "air-app-service-zmq-to-mqtt": {
                "image": "tibcosoftware/labs-air-edgex-app-service-zmq-to-mqtt:latest",
                "privileged": true,
                "network": "host",
                "environment": [
                    "REGISTRY_HOST=$EDGEX_CORE_CONSUL",
                    "CLIENTS_COREDATA_HOST=$EDGEX_CORE_DATA_HOST",
                    "CLIENTS_DATA_HOST=$EDGEX_CORE_DATA_HOST",
                    "CLIENTS_NOTIFICATIONS_HOST=$EDGEX_SUPPORT_NOTIFICATIONS",
                    "CLIENTS_METADATA_HOST=$EDGEX_CORE_METADATA",
                    "CLIENTS_COMMAND_HOST=$EDGEX_CORE_COMMAND",
                    "CLIENTS_SCHEDULER_HOST=$EDGEX_SUPPORT_SCHDELER",
                    "CLIENTS_VIRTUALDEVICE_HOST=$EDGEX_DEVICE_VIRTUAL",
                    "DATABASES_PRIMARY_HOST=$EDGEX_REDIS",
                    "EDGEX_SECURITY_SECRET_STORE=false",
                    "BINDING_TYPE=edgex-messagebus",
                    "BINDING_SUBSCRIBETOPIC=events",
                    "BINDING_PUBLISHTOPIC=somewhere",
                    "MESSAGEBUS_TYPE=zero",
                    "MESSAGEBUS_SUBSCRIBEHOST_HOST=$EDGEX_CORE_DATA_HOST",
                    "MESSAGEBUS_SUBSCRIBEHOST_PORT=5563",
                    "MESSAGEBUS_OPTIONAL_CLIENTID=air-app-service-zmq-to-mqtt",
                    "SERVICE_HOST=$AIR_APP_SERVICE_ZMQ_TO_MQTT",
                    "SERVICE_PORT=48540",
                    "WRITABLE_LOGLEVEL=DEBUG",
                    "ApplicationSettings_MqttHostname=$EDGE_MQTT_HOSTNAME",
                    "ApplicationSettings_MqttPort=$EDGE_MQTT_PORT",
                    "ApplicationSettings_MqttUser=$EDGE_MQTT_USER",
                    "ApplicationSettings_MqttPassword=$EDGE_MQTT_PASSWORD",
                    "ApplicationSettings_MqttTopic=$EDGE_MQTT_DATA_TOPIC",
                    "ApplicationSettings_MqttPublisher=$EDGE_MQTT_ZMQ_TO_MQTT_PUBLISHER",
                    "ApplicationSettings_GatewayId=$GATEWAY_ID"
                ],
                "binds": [
                    "db-data:/data/db",
                    "log-data:/edgex/logs",
                    "consul-config:/consul/config",
                    "consul-data:/consul/data"
                ],
                "entrypoint": [],
                "devices": []
            },
            "air-app-service-metadata": {
                "image": "tibcosoftware/labs-air-edgex-app-service-metadata:latest",
                "privileged": true,
                "network": "host",
                "environment": [
                    "REGISTRY_HOST=$EDGEX_CORE_CONSUL",
                    "CLIENTS_COREDATA_HOST=$EDGEX_CORE_DATA_HOST",
                    "CLIENTS_DATA_HOST=$EDGEX_CORE_DATA_HOST",
                    "CLIENTS_NOTIFICATIONS_HOST=$EDGEX_SUPPORT_NOTIFICATIONS",
                    "CLIENTS_METADATA_HOST=$EDGEX_CORE_METADATA",
                    "CLIENTS_COMMAND_HOST=$EDGEX_CORE_COMMAND",
                    "CLIENTS_SCHEDULER_HOST=$EDGEX_SUPPORT_SCHDELER",
                    "CLIENTS_VIRTUALDEVICE_HOST=$EDGEX_DEVICE_VIRTUAL",
                    "DATABASES_PRIMARY_HOST=$EDGEX_REDIS",
                    "EDGEX_SECURITY_SECRET_STORE=false",
                    "BINDING_TYPE=edgex-messagebus",
                    "BINDING_SUBSCRIBETOPIC=events",
                    "BINDING_PUBLISHTOPIC=somewhere",
                    "MESSAGEBUS_TYPE=zero",
                    "MESSAGEBUS_SUBSCRIBEHOST_HOST=$EDGEX_CORE_DATA_HOST",
                    "MESSAGEBUS_SUBSCRIBEHOST_PORT=5563",
                    "MESSAGEBUS_OPTIONAL_CLIENTID=air-app-service-metadata",
                    "SERVICE_HOST=$AIR_APP_SERVICE_METADATA",
                    "SERVICE_PORT=48530",
                    "WRITABLE_LOGLEVEL=DEBUG",
                    "ApplicationSettings_MqttHostname=$AIR_MQTT_HOSTNAME",
                    "ApplicationSettings_MqttPort=$AIR_MQTT_PORT",
                    "ApplicationSettings_MqttUser=$AIR_MQTT_USER",
                    "ApplicationSettings_MqttPassword=$AIR_MQTT_PASSWORD",
                    "ApplicationSettings_MqttTopic=$AIR_MQTT_DATA_TOPIC",
                    "ApplicationSettings_MqttPublisher=$AIR_MQTT_DATA_METADATA_PUBLISHER",
                    "ApplicationSettings_GatewayId=$GATEWAY_ID",
                    "ApplicationSettings_GatewayDescription=$GATEWAY_DESCRIPTION",
                    "ApplicationSettings_GatewayHostname=$GATEWAY_HOSTNAME",
                    "ApplicationSettings_GatewayRouter=$GATEWAY_ROUTER",
                    "ApplicationSettings_GatewayRouterPort=$GATEWAY_ROUTER_PORT",
                    "ApplicationSettings_GatewayDeployNetwork=$GATEWAY_DEPLOY_NETWORK",
                    "ApplicationSettings_GatewayLatitude=$GATEWAY_LATITUDE",
                    "ApplicationSettings_GatewayLongitude=$GATEWAY_LONGITUDE",
                    "ApplicationSettings_GatewayAccessToken=$GATEWAY_ACCESS_TOKEN",
                    "ApplicationSettings_GatewayUsername=$GATEWAY_USERNAME",
                    "ApplicationSettings_GatewayPlatform=$GATEWAY_PLATFORM",
                    "ApplicationSettings_MetadataClient=$GATEWAY_METADATA_CLIENT",
                    "ApplicationSettings_MetadataPublishIntervalSecs=$GATEWAY_METADATA_PUBLISH_INTERVAL_SECS"
                ],
                "binds": [
                    "db-data:/data/db",
                    "log-data:/edgex/logs",
                    "consul-config:/consul/config",
                    "consul-data:/consul/data"
                ],
                "entrypoint": [],
                "devices": []
            }
        }
    }
}